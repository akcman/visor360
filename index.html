<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Visor VR Interactivo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Imagen inicial 360° -->
      <a-sky id="panorama" src="imagen1.jpg" rotation="0 -130 0"></a-sky>

      <!-- Botón flotante para mostrar menú (se ve en VR) -->
      <a-entity id="menu-button" geometry="primitive: plane; height: 0.3; width: 0.8"
                position="0 1.6 -2"
                material="color: #007BFF"
                text="value: MENÚ; align: center; color: white; width: 4"
                class="clickable"
                event-set__enter="_event: mouseenter; material.color: #0056b3"
                event-set__leave="_event: mouseleave; material.color: #007BFF"
                onclick="mostrarMenu()">
      </a-entity>

      <!-- Menú de selección (inicialmente oculto) -->
      <a-entity id="menu-vr" visible="false">
        <a-entity geometry="primitive: plane; height: 1; width: 1.5"
                  position="0 1.6 -2"
                  material="color: black; opacity: 0.8">
        </a-entity>

        <!-- Botón Escena 1 -->
        <a-entity geometry="primitive: plane; height: 0.3; width: 1.2"
                  position="0 1.8 -1.99"
                  material="color: #28a745"
                  text="value: Ir a Escena 1; align: center; color: white; width: 4"
                  class="clickable"
                  onclick="cambiarImagen('imagen1.jpg')">
        </a-entity>

        <!-- Botón Escena 2 -->
        <a-entity geometry="primitive: plane; height: 0.3; width: 1.2"
                  position="0 1.5 -1.99"
                  material="color: #17a2b8"
                  text="value: Ir a Escena 2; align: center; color: white; width: 4"
                  class="clickable"
                  onclick="cambiarImagen('imagen2.jpg')">
        </a-entity>

        <!-- Botón Salir del menú -->
        <a-entity geometry="primitive: plane; height: 0.3; width: 1.2"
                  position="0 1.2 -1.99"
                  material="color: #dc3545"
                  text="value: Salir; align: center; color: white; width: 4"
                  class="clickable"
                  onclick="ocultarMenu()">
        </a-entity>
      </a-entity>

      <!-- Cámara para VR -->
      <a-entity camera look-controls>
        <a-cursor></a-cursor>
      </a-entity>
    </a-scene>

    <!-- Script para manejo del menú -->
    <script>
      function cambiarImagen(src) {
        document.getElementById('panorama').setAttribute('src', src);
        ocultarMenu();
      }

      function mostrarMenu() {
        document.getElementById('menu-vr').setAttribute('visible', true);
        document.getElementById('menu-button').setAttribute('visible', false);
      }

      function ocultarMenu() {
        document.getElementById('menu-vr').setAttribute('visible', false);
        document.getElementById('menu-button').setAttribute('visible', true);
      }
    </script>
  </body>
</html>
