<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Tour Virtual TecNM Misantla</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Imagen inicial: principal -->
      <a-sky id="panorama" src="Principal.jpg" rotation="0 -130 0"></a-sky>

      <!-- Cámara y control -->
      <a-entity id="cameraRig" position="0 1.6 0">
        <a-entity camera look-controls wasd-controls>
          <a-entity cursor="fuse: true; fuseTimeout: 1000"
                    position="0 0 -1"
                    geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
                    material="color: white; shader: flat">
          </a-entity>
        </a-entity>

        <!-- Botón MENÚ parte superior derecha -->
        <a-entity id="menuButton"
                  geometry="primitive: plane; width: 0.6; height: 0.25"
                  material="color: #007BFF"
                  text="value: MENÚ; align: center; color: white; width: 3"
                  position="0.9 0.6 -1.5"
                  class="clickable"
                  onclick="mostrarMenu()">
        </a-entity>
      </a-entity>

      <!-- Menú VR flotante -->
      <a-entity id="menu-vr" visible="false" position="0 1.6 -2">
        <a-plane width="2.2" height="2.5" color="black" opacity="0.8"></a-plane>

        <!-- Botones del menú -->
        <a-entity geometry="primitive: plane; height: 0.25; width: 1.8"
                  position="0 1.05 0.01"
                  material="color: #28a745"
                  text="value: Aula 11; align: center; color: white"
                  class="clickable"
                  onclick="cambiarImagen('Aula_11.jpg')"></a-entity>

        <a-entity geometry="primitive: plane; height: 0.25; width: 1.8"
                  position="0 0.75 0.01"
                  material="color: #17a2b8"
                  text="value: Cafetería; align: center; color: white"
                  class="clickable"
                  onclick="cambiarImagen('Cafetería_.jpg')"></a-entity>

        <a-entity geometry="primitive: plane; height: 0.25; width: 1.8"
                  position="0 0.45 0.01"
                  material="color: #ffc107"
                  text="value: Domo; align: center; color: black"
                  class="clickable"
                  onclick="cambiarImagen('Domo.jpg')"></a-entity>

        <a-entity geometry="primitive: plane; height: 0.25; width: 1.8"
                  position="0 0.15 0.01"
                  material="color: #fd7e14"
                  text="value: Estacionamiento; align: center; color: black"
                  class="clickable"
                  onclick="cambiarImagen('estacionamiento_maestros.jpg')"></a-entity>

        <a-entity geometry="primitive: plane; height: 0.25; width: 1.8"
                  position="0 -0.15 0.01"
                  material="color: #20c997"
                  text="value: Campo de fútbol; align: center; color: black"
                  class="clickable"
                  onclick="cambiarImagen('campo_futbol.jpg')"></a-entity>

        <a-entity geometry="primitive: plane; height: 0.25; width: 1.8"
                  position="0 -0.45 0.01"
                  material="color: #6f42c1"
                  text="value: Página Principal; align: center; color: white"
                  class="clickable"
                  onclick="cambiarImagen('Principal.jpg')"></a-entity>

        <a-entity geometry="primitive: plane; height: 0.25; width: 1.8"
                  position="0 -0.75 0.01"
                  material="color: gray"
                  text="value: Cerrar Menú; align: center; color: white"
                  class="clickable"
                  onclick="ocultarMenu()"></a-entity>
      </a-entity>
    </a-scene>

    <!-- Lógica de interacción -->
    <script>
      function cambiarImagen(src) {
        document.getElementById('panorama').setAttribute('src', src);
        ocultarMenu();
      }

      function mostrarMenu() {
        document.getElementById('menu-vr').setAttribute('visible', true);
      }

      function ocultarMenu() {
        document.getElementById('menu-vr').setAttribute('visible', false);
      }
    </script>
  </body>
</html>
